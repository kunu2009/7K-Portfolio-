/**
 * Mobile Responsive Utilities
 * Global styles and utilities for making portfolio showcases mobile-friendly
 */

/* Base mobile-first utilities */
@layer utilities {
  /* Touch-friendly sizes */
  .touch-target {
    @apply min-h-[44px] min-w-[44px];
  }

  .touch-button {
    @apply min-h-[48px] min-w-[48px] touch-manipulation;
  }

  /* Prevent text selection on interactive elements */
  .no-select {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    -webkit-tap-highlight-color: transparent;
  }

  /* Mobile-optimized containers */
  .mobile-container {
    @apply w-full max-w-full overflow-x-hidden;
  }

  .mobile-padding {
    @apply px-4 sm:px-6 md:px-8 lg:px-12;
  }

  .mobile-text {
    @apply text-sm sm:text-base md:text-lg;
  }

  /* Responsive grid layouts */
  .grid-mobile-1 {
    @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4;
  }

  .grid-mobile-2 {
    @apply grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5;
  }

  /* Responsive flex gaps */
  .gap-mobile {
    @apply gap-2 sm:gap-3 md:gap-4 lg:gap-6;
  }

  /* Mobile-safe z-indices */
  .z-mobile-nav {
    @apply z-40;
  }

  .z-mobile-modal {
    @apply z-50;
  }

  /* Smooth scrolling for mobile */
  .mobile-scroll {
    @apply overflow-y-auto overscroll-contain scroll-smooth;
    -webkit-overflow-scrolling: touch;
  }

  /* Hide scrollbar but keep functionality */
  .hide-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .hide-scrollbar::-webkit-scrollbar {
    display: none;
  }

  /* Safe area padding for notched devices */
  .safe-area-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .safe-area-left {
    padding-left: env(safe-area-inset-left);
  }

  .safe-area-right {
    padding-right: env(safe-area-inset-right);
  }

  /* Responsive font sizes */
  .text-mobile-xs {
    @apply text-xs sm:text-sm;
  }

  .text-mobile-sm {
    @apply text-sm sm:text-base;
  }

  .text-mobile-base {
    @apply text-base sm:text-lg;
  }

  .text-mobile-lg {
    @apply text-lg sm:text-xl md:text-2xl;
  }

  .text-mobile-xl {
    @apply text-xl sm:text-2xl md:text-3xl;
  }

  .text-mobile-2xl {
    @apply text-2xl sm:text-3xl md:text-4xl lg:text-5xl;
  }

  .text-mobile-3xl {
    @apply text-3xl sm:text-4xl md:text-5xl lg:text-6xl;
  }

  /* Responsive heights */
  .h-mobile-screen {
    @apply min-h-screen;
    min-height: 100dvh; /* Dynamic viewport height */
  }

  .h-mobile-full {
    height: 100dvh; /* Dynamic viewport height */
  }

  /* Mobile-optimized buttons */
  .btn-mobile {
    @apply touch-button px-4 py-2 sm:px-6 sm:py-3 text-sm sm:text-base rounded-lg transition-all active:scale-95;
  }

  .btn-mobile-icon {
    @apply touch-button p-2 sm:p-3 rounded-full transition-all active:scale-90;
  }

  /* Mobile cards */
  .card-mobile {
    @apply p-4 sm:p-6 md:p-8 rounded-lg sm:rounded-xl;
  }

  /* Responsive spacing */
  .space-mobile-sm {
    @apply space-y-2 sm:space-y-3;
  }

  .space-mobile {
    @apply space-y-4 sm:space-y-6 md:space-y-8;
  }

  .space-mobile-lg {
    @apply space-y-6 sm:space-y-8 md:space-y-12;
  }

  /* Mobile-friendly images */
  .img-mobile {
    @apply w-full h-auto object-cover;
  }

  .img-mobile-contain {
    @apply w-full h-auto object-contain;
  }

  /* Responsive columns */
  .cols-mobile-1 {
    @apply columns-1 sm:columns-2 md:columns-3;
  }

  /* Mobile navigation */
  .mobile-nav {
    @apply fixed bottom-0 left-0 right-0 bg-background border-t z-mobile-nav safe-area-bottom;
  }

  .mobile-nav-top {
    @apply fixed top-0 left-0 right-0 bg-background border-b z-mobile-nav safe-area-top;
  }

  /* Swipeable containers */
  .swipeable {
    @apply touch-pan-x cursor-grab active:cursor-grabbing;
  }

  /* Mobile modal/sheet */
  .mobile-sheet {
    @apply fixed inset-0 sm:inset-auto sm:right-0 sm:top-0 sm:bottom-0 sm:max-w-md md:max-w-lg w-full;
  }

  /* Responsive aspect ratios */
  .aspect-mobile-square {
    @apply aspect-square;
  }

  .aspect-mobile-video {
    @apply aspect-video;
  }

  .aspect-mobile-portrait {
    @apply aspect-[3/4];
  }

  /* Tablet-specific utilities */
  @media (min-width: 640px) and (max-width: 1024px) {
    .tablet-hidden {
      @apply hidden;
    }

    .tablet-block {
      @apply block;
    }
  }

  /* Mobile-only utilities */
  @media (max-width: 639px) {
    .mobile-hidden {
      @apply hidden;
    }

    .mobile-block {
      @apply block;
    }

    .mobile-full-width {
      @apply w-screen -mx-4;
    }
  }

  /* Desktop-only utilities */
  @media (min-width: 1024px) {
    .desktop-hidden {
      @apply hidden;
    }

    .desktop-block {
      @apply block;
    }
  }
}

/* Additional mobile-specific animations */
@layer components {
  .mobile-bounce-animation {
    animation: mobile-bounce 0.3s ease-in-out;
  }

  @keyframes mobile-bounce {
    0%, 100% {
      transform: scale(1);
    }
    50% {
      transform: scale(0.95);
    }
  }

  .mobile-slide-up {
    animation: mobile-slide-up 0.3s ease-out;
  }

  @keyframes mobile-slide-up {
    from {
      transform: translateY(100%);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  .mobile-fade-in {
    animation: mobile-fade-in 0.2s ease-in;
  }

  @keyframes mobile-fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
}

/* Orientation-specific styles */
@media (orientation: landscape) and (max-height: 600px) {
  .landscape-compact {
    @apply py-2 my-2;
  }

  .landscape-hide {
    @apply hidden;
  }
}

/* High-DPI display optimizations */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .retina-border {
    border-width: 0.5px;
  }
}

/* Reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  .respect-motion-preference {
    animation: none !important;
    transition: none !important;
  }
}
